p8105\_mtp\_cy2522
================
Chu YU
2018-10-20

import and clean the data
-------------------------

``` r
mtp_tidy = read.csv("./data/p8105_mtp_data.csv") %>%
  janitor::clean_names() %>%
  gather(key = activity_number, value = activity, activity_1:activity_1440 ) %>%
  mutate(day = factor(day,levels = c("Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday")))
```

exploratory analyses
--------------------

``` r
## the structure of the data
str(mtp_tidy)
```

    ## 'data.frame':    473760 obs. of  4 variables:
    ##  $ week           : int  1 1 1 1 1 1 1 2 2 2 ...
    ##  $ day            : Factor w/ 7 levels "Sunday","Monday",..: 6 2 7 1 5 3 4 6 2 7 ...
    ##  $ activity_number: chr  "activity_1" "activity_1" "activity_1" "activity_1" ...
    ##  $ activity       : num  1 1 1 1 1 1 1 1 1 1 ...

``` r
### explore the number of "1"
mtp_tidy %>%
  filter(activity == 1.00000) %>%
  group_by(week) %>% 
  summarise(n = n())
```

    ## # A tibble: 47 x 2
    ##     week     n
    ##    <int> <int>
    ##  1     1  5185
    ##  2     2  6040
    ##  3     3 10069
    ##  4     4  8753
    ##  5     5  3988
    ##  6     6  3589
    ##  7     7  4963
    ##  8     8  5193
    ##  9     9  4201
    ## 10    10  4033
    ## # ... with 37 more rows

``` r
### outliers
mtp_tidy %>%
  mutate(week = factor(week)) %>%
  ggplot(aes(x = week, y = activity)) +
    geom_boxplot() +
    theme(axis.text.x = element_text(angle = 60, hjust = 1))
```

![](p8105_mtp_cy2522_files/figure-markdown_github/unnamed-chunk-2-1.png)

problem 2
---------

### explore the hypothesis that this participant became more active over time

``` r
##aggregate the data
mtp_total = mtp_tidy %>%
  group_by(week, day) %>%
  summarise(total_activity = sum(activity))

mtp_total %>%
  mutate(day_num = row_number(day) + (week - 1) * 7) %>%
  ggplot(aes( x = day_num, y = total_activity)) +
  geom_point() +
  geom_smooth(se = FALSE, color = "red") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  labs( 
    title = " plot of activity across the weeks ",
    x = "day",
    y = "activity of the day")
```

    ## `geom_smooth()` using method = 'loess' and formula 'y ~ x'

![](p8105_mtp_cy2522_files/figure-markdown_github/unnamed-chunk-3-1.png) \#\#\# examine the possibility that day of the week affects activity

``` r
## the effect of the day in a week
mtp_total %>%
  ggplot(aes(x = factor(day), y = total_activity, fill = day)) +
  geom_boxplot() +
  labs( 
    title = " effect of each day ",
    x = "day",
    y = "activity ") 
```

![](p8105_mtp_cy2522_files/figure-markdown_github/unnamed-chunk-4-1.png)

\`\`\`
